<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./style.css">
    <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>

    <link href="https://fonts.googleapis.com/css?family=Cantarell|Raleway&display=swap" rel="stylesheet">

    <title>Survey Form</title>
</head>

<body>

    <main id="outer-container">

        <div id="survey-header" class="">
            <h1 id="title">Survey Form</h1>
            <p id="description" class="main-description">A survey to find what is the most popular web browser</p>
        </div>

        <form id="survey-form" class="form" action="*">
            <div id="participant-details-area" class="container">
                <h2 id="participant-details-title" class="scondary-description">Participant Details</h2>
                <div id="name-area" class="mini-container text">
                    <label id="name-label" for="name">Name:</label>
                    <input id="name" class="text-field" name="name" placeholder="James Smith" required>
                </div>

                <div id="email-area" class="mini-container text">
                    <label id="email-label" for="email">Email:</label>
                    <input id="email" class="text-field" name="email" type="email"
                        pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" placeholder="james@example.com" required>
                </div>

                <div id="age-area" class="mini-container text">
                    <label id="number-label" for="number">Age:</label>
                    <input id="number" class="text-field" name="age" type="number" placeholder="13+" min="13" max="120"
                        required>
                </div>
            </div>
            <div id="browser-area" class="container">
                <h2 id="browser-description" class="scondary-description">What is your favorite web browser?</h2>
                <label id="radio-label" for="radio"><span>Firefox</span>
                    <input id="radio" class="radio firefox" type="radio" name="browser" value="firefox">
                    <span class="cover"></span>
                </label>
                <label id="radio2-label" for="radio2"><span>Chrome</span>
                    <input id="radio2" class="radio chrome" type="radio" name="browser" value="chrome">
                    <span class="cover"></span>
                </label>
                <label id="radio3-label" for="radio3"><span>Safari</span>
                    <input id="radio3" class="radio safari" type="radio" name="browser" value="safari">
                    <span class="cover"></span>
                </label>
                <label id="radio4-label" for="radio4"><span>Edge</span>
                    <input id="radio4" class="radio edge" type="radio" name="browser" value="edge">
                    <span class="cover"></span>
                </label>
                <label id="radio5-label" for="radio5"><span>Internet Explorer</span>
                    <input id="radio5" class="radio internet-explorer" type="radio" name="browser"
                        value="internet explorer">
                    <span class="cover"></span>
                </label>
                <label id="radio6-label" for="radio6"><span>Opera</span>
                    <input id="radio6" class="radio opera" type="radio" name="browser" value="opera">
                    <span class="cover"></span>
                </label>
                <label id="radio7-label" for="radio7">
                    <span id="label-text">Other</span>
                    <input id="radio7" class="radio other" type="radio" name="browser">
                    <input id="radio-other" class="text-field" type="text" name="browser" placeholder="Your Browser?"
                        maxlength="22" pattern="\S(.*\S)?">
                    <span class="cover"></span>
                </label>
            </div>


            <div id="browser-use-for-area" class="mini-container">
                <label id="dropdown-label" for="dropdown" class="scondary-description">Do you use any other browser
                    besides your favorite one?</label>
                <select id="dropdown" class="dropdown use-for" name="browser-use-for">
                    <option></option>
                    <option value="yes">Yes</option>
                    <option value="sometimes">Sometimes</option>
                    <option value="no">No</option>
                </select>
            </div>

            <div id="browser-features-area" class="container">
                <h2 id="browser-features-description" class="scondary-description">What are the things you like
                    about
                    it?</h2>
                <label id="checkbox-label" for="checkbox"><span>Performance</span>
                    <input id="checkbox" class="checkbox performance" type="checkbox" name="browser-feature"
                        value="performance">
                    <span class="cover"></span>
                </label>
                <label id="checkbox2-label" for="checkbox2"><span>Reliability</span>
                    <input id="checkbox2" class="checkbox reliability" type="checkbox" name="checkbox"
                        value="reliability">
                    <span class="cover"></span>
                </label>
                <label id="checkbox3-label" for="checkbox3"><span>Privacy</span>
                    <input id="checkbox3" class="checkbox privacy" type="checkbox" name="checkbox" value="privacy">
                    <span class="cover"></span>
                </label>
                <label id="checkbox4-label" for="checkbox4"><span>Intuitive</span>
                    <input id="checkbox4" class="checkbox intuitive" type="checkbox" name="browser-feature"
                        value="intuitive">
                    <span class="cover"></span>
                </label>
                <label id="checkbox5-label" for="checkbox5"><span>Extinctions</span>
                    <input id="checkbox5" class="checkbox extinctions" type="checkbox" name="checkbox"
                        value="extinctions">
                    <span class="cover"></span>
                </label>
                <label id="checkbox6-label" for="checkbox6"><span>Development Tools</span>
                    <input id="checkbox6" class="checkbox development-tools" type="checkbox" name="checkbox"
                        value="development tools">
                    <span class="cover"></span>
                </label>
            </div>

            <div id="textarea-area" class="mini-container">
                <label id="textarea-label" for="textarea" class="scondary-description">Any Comments?</label>
                <textarea id="textarea" class=".text-field" placeholder="Your Comments Please ..." rows="4"
                    cols="50"></textarea>
                <input id="submit" class="submit" type="submit" value="Submit">
            </div>

        </form>

    </main>
    <!-- 

Hello Camper!

For now, the test suite only works in Chrome! Please read the README below in the JS Editor before beginning. Feel free to delete this message once you have read it. Good luck and Happy Coding! 

- The freeCodeCamp Team 

-->
    <script>

        function setOther2Required() {
            let other = document.getElementById("radio-other");
            let labelText = document.getElementById("label-text");
            labelText.style.visibility = "hidden";
            other.setAttribute("required", "true");
            other.style.visibility = "visible";
            other.focus();
        }
        function copyValue() {
            let radio7 = document.getElementById("radio7");
            let labelText = document.getElementById("label-text");
            let other = document.getElementById("radio-other");
            if (!isNullOrWhitespace(other.value)) {
                labelText.innerHTML = other.value;
                otherNewValue = other.value;
                other.removeAttribute("required");
                other.style.visibility = "hidden";
                other.style.zIndex = "-1";
                labelText.style.visibility = "visible"
            }
            else if (radio7.checked) {
                labelText.style.visibility = "hidden";
                other.setAttribute("required", "true");
                other.style.visibility = "visible";
                other.focus();
            }



        }
        function resetOther() {
            let other = document.getElementById("radio-other");
            let labelText = document.getElementById("label-text");
            labelText.innerHTML = otherInitialValue;
            other.blur();
            labelText.style.visibility = "visible"
            other.value = "";
            other.removeAttribute("required");
            other.style.visibility = "hidden";
            other.style.zIndex = "-1";
        }
        function isNullOrWhitespace(input) {

            if (typeof input === 'undefined' || input == null) return true;

            return input.replace(/\s/g, '').length < 1;
        }

        let otherInitialValue = "Other";
        let otherNewValue;
        document.getElementById("radio7-label").addEventListener("click", setOther2Required);
        document.getElementById("radio7").addEventListener("blur", copyValue);
        document.querySelectorAll("#browser-area label:not(#radio7-label)").forEach(function (radioLabel) {
            radioLabel.addEventListener("click", resetOther);
        });

    </script>
</body>

</html>